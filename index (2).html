<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Beyza & Ä°sa ğŸ’–</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#000;
  color:white;
  text-align:center;
}
.hidden{display:none}
button{
  padding:10px 18px;
  margin:5px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:white;
  font-size:14px;
}
input, textarea{
  padding:8px;
  border-radius:10px;
  border:none;
  margin:5px;
  width:90%;
  max-width:280px;
}
img{
  width:100%;
  border-radius:15px;
}
.panel{
  background:#111;
  padding:15px;
  border-radius:15px;
  margin:15px;
}
.photoBox{
  background:#222;
  border-radius:15px;
  padding:10px;
  margin:10px 0;
}
#musicBtn{
  position:fixed;
  bottom:15px;
  right:15px;
  z-index:999;
}
</style>
</head>

<body>

<!-- MÃœZÄ°K -->
<audio id="bgMusic" loop></audio>
<button id="musicBtn" onclick="toggleMusic()">ğŸ”Š MÃ¼zik AÃ§</button>

<!-- GÄ°RÄ°Å -->
<div id="loginBox">
  <h2>ğŸ’– GiriÅŸ</h2>
  <input id="user" placeholder="kullanÄ±cÄ± adÄ±">
  <input id="pass" type="password" placeholder="ÅŸifre">
  <br>
  <button onclick="login()">GiriÅŸ</button>
</div>

<!-- ANA -->
<div id="main" class="hidden">

  <h1 id="welcome"></h1>
  <p id="counter"></p>

  <div class="panel">
    <h3>ğŸ’Œ GÃ¼nÃ¼n SÃ¶zÃ¼</h3>
    <p id="quote">YÃ¼kleniyorâ€¦</p>
  </div>

  <div class="panel">
    <h3>ğŸ” Ã–zel Mektup</h3>
    <p id="letterStatus"></p>
    <p id="letter" class="hidden">
      Beyza, sen benim hayatÄ±mÄ±n en gÃ¼zel gerÃ§eÄŸisin.<br>
      Ä°yi ki varsÄ±n.<br>
      â€” Ä°sa ğŸ’–
    </p>
  </div>

  <div class="panel">
    <h3>ğŸ“¸ FotoÄŸraf Ekle</h3>
    <input type="file" accept="image/*" onchange="addPhoto(event)">
    <div id="photos"></div>
  </div>

</div>

<script>
/* GÄ°RÄ°Å */
function login(){
  const u=user.value.toLowerCase();
  const p=pass.value;

  if(
    (u==="beyza" && p==="ÅŸahsioÄŸlanÄ±m") ||
    (u==="isa" && p==="KALBÄ°M")
  ){
    loginBox.classList.add("hidden");
    main.classList.remove("hidden");
    welcome.innerText = u==="beyza"
      ? "HoÅŸ geldin BEYZA ğŸ’–"
      : "HoÅŸ geldin Ä°SA ğŸ’™";
    loadQuote();
    checkLetters();
    loadPhotos();
  } else alert("HatalÄ± giriÅŸ");
}

/* SAYAÃ‡ */
const start=new Date("2023-05-02T00:00:00");
setInterval(()=>{
  const d=new Date()-start;
  counter.innerText=
   `ğŸ•°ï¸ ${Math.floor(d/86400000)} gÃ¼n
    ${Math.floor(d/3600000)%24} saat
    ${Math.floor(d/60000)%60} dk
    ${Math.floor(d/1000)%60} sn`;
},1000);

/* SÃ–Z */
function loadQuote(){
 fetch("https://api.quotable.io/random?tags=love")
 .then(r=>r.json())
 .then(d=>quote.innerText="ğŸ’Œ "+d.content)
 .catch(()=>quote.innerText="ğŸ’Œ Beyza & Ä°sa sonsuza kadar");
}

/* MEKTUP */
function checkLetters(){
 const now=new Date();
 const d=now.getDate(), m=now.getMonth()+1;
 if((d===14 && m===2)||(d===2 && m===5)){
   letter.classList.remove("hidden");
   letterStatus.innerText="ğŸ’– BugÃ¼n Ã¶zel bir gÃ¼n!";
   if(Notification.permission!=="granted"){
     Notification.requestPermission();
   }
 } else {
   letterStatus.innerText="ğŸ”’ Mektup Ã¶zel tarihte aÃ§Ä±lacak";
 }
}

/* MÃœZÄ°K */
let isPlaying=false;
function toggleMusic(){
  if(!bgMusic.src){
    alert("HenÃ¼z mÃ¼zik eklenmedi ğŸµ");
    return;
  }
  if(isPlaying){
    bgMusic.pause();
    musicBtn.innerText="ğŸ”Š MÃ¼zik AÃ§";
  }else{
    bgMusic.play();
    musicBtn.innerText="ğŸ”‡ MÃ¼zik Kapat";
  }
  isPlaying=!isPlaying;
}

/* FOTOÄRAF EKLE */
function addPhoto(e){
 const reader=new FileReader();
 reader.onload=()=>{
   const arr=JSON.parse(localStorage.getItem("photos")||"[]");
   arr.push({img:reader.result, text:""});
   localStorage.setItem("photos",JSON.stringify(arr));
   loadPhotos();
 };
 reader.readAsDataURL(e.target.files[0]);
}

/* FOTOÄRAFLARI YÃœKLE */
function loadPhotos(){
 photos.innerHTML="";
 const arr=JSON.parse(localStorage.getItem("photos")||"[]");
 arr.forEach((p,i)=>{
   const box=document.createElement("div");
   box.className="photoBox";

   box.innerHTML=`
     <img src="${p.img}">
     <textarea placeholder="AÃ§Ä±klama yaz..." 
       oninput="updateText(${i},this.value)">${p.text}</textarea>
     <br>
     <button onclick="deletePhoto(${i})">ğŸ—‘ï¸ Sil</button>
   `;
   photos.appendChild(box);
 });
}

/* AÃ‡IKLAMA GÃœNCELLE */
function updateText(i,val){
 const arr=JSON.parse(localStorage.getItem("photos"));
 arr[i].text=val;
 localStorage.setItem("photos",JSON.stringify(arr));
}

/* FOTO SÄ°L */
function deletePhoto(i){
 if(!confirm("FotoÄŸraf silinsin mi?"))return;
 const arr=JSON.parse(localStorage.getItem("photos"));
 arr.splice(i,1);
 localStorage.setItem("photos",JSON.stringify(arr));
 loadPhotos();
}
</script>

</body>
</html>
<audio id="bgMusic" loop src="music.mp3"></audio>

